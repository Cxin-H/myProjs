!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../modules/Dispatcher.js"),a=n(s),l=function(){function e(t,i){o(this,e),this.init(t,i)}return r(e,[{key:"init",value:function(e,t){var i=this;this.dispatcher=new a.default,this.scroll="undefined"==typeof t.scroll||t.scroll,this._toggle=function(e){i.toggle(e,$j(e.currentTarget))},"function"==typeof t?this.on("toggle",t):(t.onToggle&&(this.on("toggle",t.onToggle),delete t.onToggle),$j.extend(this,t)),this.$trigger=e,this.$trigger.on("click",this._toggle),this.$trigger.data("accordion",this)}},{key:"toggle",value:function(e,t){e&&e.preventDefault();var i=t.hasClass("active");t.toggleClass("active"),i?this.close(t):this.open(t)}},{key:"open",value:function(e){var t=this,i=$j(e.attr("data-accordion-target"));this.dispatcher.trigger("open",i,e),e.attr("data-accordion-dependency")?$j(e.attr("data-accordion-dependency")).not(e).each(function(i,n){var o=$j(n);o.hasClass("active")&&!function(){var i=$j(o.removeClass("active").attr("data-accordion-target"));diorV7.DOMStateManager.slideUp(i,"aria-expanded",function(){t.dispatcher.trigger("closed",i),t.scroll&&$j("html, body").animate({scrollTop:e.offset().top-20},300)})}()}):e.hasClass("js-scroll-on-open")&&this.scroll&&$j("html, body").animate({scrollTop:e.offset().top-20},300),diorV7.DOMStateManager.slideDown(i,"aria-expanded",function(){var n=i.find(".js-select");n.length&&n.each(function(){"undefined"!=typeof $j(this).data("customSelect")&&$j(this).data("customSelect").refresh()}),t.dispatcher.trigger("toggle",!0,i,e),t.dispatcher.trigger("opened",i,e)})}},{key:"close",value:function(e){var t=this,i=$j(e.attr("data-accordion-target"));this.dispatcher.trigger("close",i,e),diorV7.DOMStateManager.slideUp(i,"aria-expanded",function(){t.dispatcher.trigger("toggle",!1,i,e),t.dispatcher.trigger("closed",i,e)})}},{key:"on",value:function(e,t){this.dispatcher.on(e,t)}},{key:"destroy",value:function(){this.$trigger.off("click",this._toggle)}}]),e}();i.default=l},{"../modules/Dispatcher.js":27}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r={classNames:{wrapper:"autocomplete-wrapper",list:"autocomplete-list"},debounce:150,max:0,restrictive:!1},s=function(){function e(t,i){n(this,e),this.init(t,i)}return o(e,[{key:"init",value:function(e,t){this.$input=e,this.o=$j.extend(r,t),this.buildWrapper(),this.buildList(),this.addListeners(),this.$input.data("AutoComplete",this),t&&t.restrictive&&(this.previousValue=this.$input.val())}},{key:"addListeners",value:function(){this._onInput=this.onInput.bind(this),this._onClickOnOption=this.onClickOnOption.bind(this),this._onFocus=this.onFocus.bind(this),this._onClickOutside=this.onClickOutside.bind(this),this.$input.on("input keyup",this._onInput),this.$input.on("focus",this._onFocus),this.$list.on("click","li",this._onClickOnOption),$j(document).on("click",this._onClickOutside)}},{key:"removeListeners",value:function(){this.$input.off("input keyp",this._onInput),this.$input.off("focus",this._onFocus),this.$list.off("click","li",this._onClickOnOption),$j(document).off("click",this._onClickOutside)}},{key:"buildWrapper",value:function(){this.$wrapper=this.$input.wrap('<div class="'+this.o.classNames.wrapper+'" />').parent()}},{key:"buildList",value:function(){var e=document.createElement("ul");e.className=this.o.classNames.list,this.$list=$j(e),this.$list.attr("role","listbox").attr("id",this.o.classNames.list),this.$wrapper.find("input").attr("aria-controls",this.o.classNames.list),this.$wrapper.append(this.$list)}},{key:"fillList",value:function(e){if(this.$list.empty(),this.$wrapper.find("input").attr("aria-expanded",!1),e.length)for(var t=void 0,i=0,n=!this.o.max||e.length<this.o.max?e.length:this.o.max;i<n;++i)t=document.createElement("li"),$j(t).attr("role","option").attr("tabindex","-1"),t.innerHTML=e[i],this.$list.append(t);this.toggleList(!0)}},{key:"toggleList",value:function(e){e="undefined"==typeof e?!this.$input.hasClass("active"):e,this.$input.toggleClass("active",e),this.$wrapper.find("input").attr("aria-expanded",e)}},{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.$input.val();if(t){var i=e.o.values.filter(function(e){return e.toLowerCase().substring(0,t.length)===t.toLowerCase()});e.fillList(i)}},this.o.debounce)}},{key:"onFocus",value:function(){this.toggleList(!0),this.updateList()}},{key:"onClickOutside",value:function(e){this.$input.is(e.target)||this.$list.is(e.target)||0!==this.$input.has(e.target).length||0!==this.$list.has(e.target).length||this.toggleList(!1)}},{key:"onInput",value:function(e){this.o.restrictive&&this.restrict(),this.updateList()}},{key:"onClickOnOption",value:function(e){this.$input.val($j(e.currentTarget).text()),this.toggleList(!1)}},{key:"destroy",value:function(){this.$wrapper.after(this.$input.detach()),this.$wrapper.remove(),this.removeListeners()}},{key:"setValues",value:function(e){this.o.values=e,this.$list.empty()}},{key:"restrict",value:function e(){for(var t=this.$input.val().toLowerCase(),e=!0,i=0,n=this.o.values.length;i<n;++i)if(0===this.o.values[i].toLowerCase().lastIndexOf(t,0)){e=!1;break}e?this.$input.val(this.previousValue):this.previousValue=this.$input.val()}}]),e}();i.default=s},{}],3:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./AutoComplete.js"),u=n(l),c=function(e){function t(e,i,n,s,a){o(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.valueId=i,l.valueLabel=n,l.$hidden=s,a&&a.values&&l.flattenValues(a.values),l}return s(t,e),a(t,[{key:"flattenValues",value:function(e){var t=this;this.flatValues=[],e.forEach(function(e){t.flatValues.push(e[t.valueLabel])})}},{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.$input.val();if(t){var i=e.flatValues.filter(function(e){return e.toLowerCase().substring(0,t.length)===t.toLowerCase()});e.fillList(i)}},this.o.debounce)}},{key:"onClickOnOption",value:function(e){var t=$j(e.currentTarget).text();this.$input.val(t),this.toggleList(!1),this.$hidden.val(this.o.values[this.flatValues.indexOf(t)][this.valueId])}},{key:"setValues",value:function(e){this.o.values=e,this.flattenValues(e);var t=this.$hidden.val();this.$hidden.val(""),this.$list.empty(),"undefined"!=typeof t&&this.setFromId(t)}},{key:"restrict",value:function e(){for(var t=this.$input.val().toLowerCase(),e=!0,i=0,n=this.flatValues.length;i<n;++i)if(0===this.flatValues[i].toLowerCase().lastIndexOf(t,0)){e=!1;break}e?this.$input.val(this.previousValue):this.previousValue=this.$input.val()}},{key:"setFromId",value:function(e){for(var t=0,i=this.o.values.length;t<i;++t)if(this.o.values[t][this.valueId]&&this.o.values[t][this.valueId]==e){this.$input.val(this.o.values[t][this.valueLabel]),this.$hidden.val(this.o.values[this.flatValues.indexOf(this.o.values[t][this.valueLabel])][this.valueId]);break}}}]),t}(u.default);i.default=c},{"./AutoComplete.js":2}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./AutoComplete.js"),u=n(l),c=function(e){function t(e,i){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.lang=diorV7.helpers.getLanguage().substr(0,2),n}return s(t,e),a(t,[{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.$input.val()?e.getValues(function(t){return e.fillList(t)}):e.$list.empty()},this.o.debounce)}},{key:"getValues",value:function(e){$j.ajax({url:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.url,type:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.method,xhrFields:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.xhrFields,data:{rc:1,oe:"UTF-8",ie:"UTF-8",max:10,format:"rich",client:"dior_"+this.lang,q:this.$input.val()},success:function(t){var i=[];t.results.forEach(function(e){i.push(e.name)}),e(i)}})}},{key:"onClickOnOption",value:function(e){this.$input.val($j(e.currentTarget).text()),this.$input.parents("form:first").submit()}}]),t}(u.default);i.default=c},{"./AutoComplete.js":2}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e);var i={$el:null,axis:"x",percents:0,onChange:function(e){}};this.o=$j.extend(i,t),this.percents=this.o.percents,this.init()}return o(e,[{key:"init",value:function(){this.setSize(),this.build(),this.addListeners(),this.set(this.percents,!0)}},{key:"setSize",value:function(){this.sizeMethod="x"===this.o.axis?"width":"height",this.positionValue="x"===this.o.axis?"left":"top",this.maxSize=this.o.$el[this.sizeMethod](),this.percentSize=this.maxSize/100}},{key:"build",value:function(){if(!this.$progress){var e=document.createElement("div");e.className="input-range-progress",this.$progress=$j(e),this.o.$el.append(this.$progress)}}},{key:"set",value:function(e,t){e=Math.max(0,Math.min(e,100)),this.$progress[this.sizeMethod](this.percentSize*e),t||e===this.percents||this.o.onChange(e),this.percents=e}},{key:"addListeners",value:function(){var e=this;this._onPointerdown=function(t){return e.onPointerdown(t)},this._onPointermove=function(t){return e.onPointermove(t)},this._onPointerup=function(t){return e.onPointerup(t)},this.o.$el.on("mousedown touchstart",this._onPointerdown),$j(document).on("mousemove touchmove",this._onPointermove),$j(document).on("mouseup touchend",this._onPointerup)}},{key:"removeListeners",value:function(){this.o.$el.off("mousedown touchstart",this._onPointerdown),$j(document).off("mousemove touchmove",this._onPointermove),$j(document).off("mouseup touchend",this._onPointerup)}},{key:"onPointerdown",value:function(e){this.coords=diorV7.helpers.normalizeInput.eventToCoordinate(e),this.pointerDown=!0,this.set(this.sizeToPercents(this.coords[this.o.axis]-this.o.$el.offset()[this.positionValue]))}},{key:"onPointermove",value:function(e){if(this.pointerDown){var t=diorV7.helpers.normalizeInput.eventToCoordinate(e),i=t[this.o.axis]-this.coords[this.o.axis];this.coords=t,this.set(this.percents+this.sizeToPercents(i))}}},{key:"onPointerup",value:function(e){this.pointerDown=!1}},{key:"sizeToPercents",value:function(e){return e/this.percentSize}},{key:"pointerPositionToPercents",value:function(e){return this.sizeToPercents(e-this.o.$el.offset()[this.positionValue])}},{key:"destroy",value:function(){this.removeListeners(),this.$progress.remove(),delete this.$progress}}]),e}();i.default=r},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e?(e=new Date(1e3*e).toISOString().substr(11,8),"00:"===e.substr(0,3)&&(e=e.substr(3,e.length)),e):"00:00"}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../templates.common.js"),l=n(a),u=e("./InputRange.js"),c=n(u),d=e("./TTML.js"),p=n(d),h=e("../modules/Dispatcher.js"),f=n(h),v=[],y=void 0,m=function(){function e(t,i){o(this,e),this.userPaused=!1,this.isFullscreen=!1,this.subtitlesActive=!1,this.neverPlayed=!0,this.completed25=!1,this.completed50=!1,this.completed75=!1,this.completed100=!1,this.built=!1,this.mmmDone=!1;var n={$video:null,poster:null,subtitles:null,mmmID:null,align:"middle",classNames:{videoWrapper:"player-wrapper",controlsWrapper:"player-controls",controlsVisible:"player-controls-visible",playing:"player-playing",hasPlayed:"player-has-played",centralPlayButton:"player-play-central",fullscreen:"player-fullscreen",hasEnded:"played-video-finished",repeat:"player-repeat"},playClass:null,wrapperClass:null,controlsFadeTimeout:1500,diorTV:diorV7.config.url.diorTV,controlsTemplate:l.default.player.controls,volume:localStorage.diorVolume||80,mute:1,hasSoundBar:1,muted:0,autoplay:0,autoTogglePlay:0,tiny:0,playVisibleThreshold:.75,locale:{fullscreen:"Fullscreen",volume:"Volume",subtitltes:"Subtitles",share:"Share"}},r=i.attr("id");if(""===r||void 0===r)window.console&&console.error("[Player]: video tag must have an id.");else for(var s=v.length,a=0;a<s;++a)v[a].o.$video.attr("id")===r&&console.warn("[Player]: video tag must have a unique id. "+r+" is already registered.");this.o=$j.extend(n,t),this.o.volume=parseInt(this.o.volume),i&&(this.o.$video=i),this.video=this.o.$video[0],this.o.autoplay&&null===t.autoTogglePlay&&(this.o.autoTogglePlay=1),diorV7.helpers.isTactile()&&(this.o.mute=this.o.hasSoundBar=0,this.o.autoplay=0),this.dispatcher=new f.default,this._build=this.buildPlayer.bind(this),window.diorV7.helpers.isTactile()?(this._build(),this.video.addEventListener("loadedmetadata",function(){window.console&&console.log("loadedmetadata")}),this.video.addEventListener("durationchange",function(){window.console&&console.log("durationchange")})):(this.video.addEventListener("loadedmetadata",this._build),this.video.addEventListener("durationchange",this._build)),this.o.mmmID?this.getSrcFromMMM():this.o.url?this.o.$video.attr("src",this.o.url):window.console&&console.warn('[Player]: object is neither mmm (missing "mmmID") nor native (missing "url")'),v.push(this),this.o.$video.data("player",this)}return s(e,[{key:"togglePlayPause",value:function(e){this.video.paused?this.play():(e&&(this.userPaused=!0),this.pause())}},{key:"play",value:function(){this.video.paused&&(this.neverPlayed&&(this.neverPlayed=!1,this.trackEvent("Video Play")),this.video.play(),this.trigger("play"),this.$el.toggleClass(this.o.classNames.hasEnded,!1).toggleClass(this.o.classNames.playing,!0).toggleClass(this.o.classNames.hasPlayed,!0))}},{key:"pause",value:function(e){this.video.paused||(this.video.pause(),this.trigger("pause"),this.$el.toggleClass(this.o.classNames.playing,!1)),e&&(this.userPaused=!0)}},{key:"repeat",value:function(){this.seeker.set(0,!0),this.video.currentTime=0,this.play()}},{key:"toggleFullscreen",value:function(t){var i=this;if("undefined"==typeof t&&(t=!this.isFullscreen),t?this.trigger("enterFullscreen"):this.trigger("exitFullscreen"),Modernizr.fullscreen&&!diorV7.helpers.isTactile())diorV7.helpers.fullscreen(this.$el);else if(this.o.$video.parents(".popin:first").length){var n=window.diorV7.popinManager.popinPlayer;n.toggleFullscreen(!$j("html").hasClass("popin-fullscreen"))}else{var o=this.o.$video.data("options");o.fullscreen=!0,this.o.$video.data("options",o),diorV7.popinManager.openVideoFullscreen(this.video)}t&&setTimeout(function(){e.PauseAll(i)},250)}},{key:"toggleControls",value:function(e){"undefined"==typeof e&&(e=!this.$controls.is(":visible")),this.$el.toggleClass(this.o.classNames.controlsVisible,e)}},{key:"toggleMuted",value:function(e){this.video.muted=!this.video.muted,this.video.muted?this.setVolume(0):this.setVolume(localStorage.diorVolumeOn)}},{key:"toggleSubs",value:function(){this.subtitlesActive=!this.subtitlesActive,this.$el.toggleClass("player-subtitles",this.subtitlesActive),this.subtitlesActive&&this.TTML.update(this.video.currentTime)}},{key:"setVolume",value:function(e){localStorage.diorVolume=e,e>0&&(localStorage.diorVolumeOn=e),this.video.volume=.01*e,this.$volume&&this.$volume.length&&(this.$volume[0].className=this.$volume[0].className.replace(/volume-\d\s?/g,""),this.$volume.addClass("volume-"+Math.round(e/100*8))),0===e?this.$el.addClass("player-muted"):this.$el.removeClass("player-muted")}},{key:"destroy",value:function(){this.pause(),this.removeListeners(),this.o.$video.detach(),this.$el.after(this.o.$video),this.$el.remove(),this.o.$video.attr("style",this.initialStyle),this.o.$video.attr("src","");for(var e=v.length,t=0;t<e;++t){var i=v[t];if(this==i){v.splice(t,1);break}}this.$el=null}},{key:"getSrcFromMMM",value:function(){var e=this;if(this.storyBoard||(this.storyBoard={}),window.widemotion){var t=widemotion.attach(this.o.$video,this.o.mmmID,diorV7.config.MMM.accounts);t.done(function(t){e.trigger("ready"),e.storyBoard.sequenceWidth=4e3,e.storyBoard.framesPerSequence=t.storyboard.density,e.storyBoard.fps=t.storyboard.ips,e.storyBoard.sequenceSources=[],e.storyBoard.path=t.storyboard.path,e.storyBoard.sequenceNumber=t.storyboard.count,e.mmmDone=!0,e.checkBuildStoryboard()}).fail(function(e){window.console&&console.error(e)})}else window.console&&console.error("[Player]: widemotion controller is not loaded.")}},{key:"buildPlayer",value:function(){this.built||(this.built=!0,this.buildWrapper(),this.buildPoster(),this.buildControls(),this.buildSubtitles(),this.o.share&&this.buildShare(),(this.o.muted||0===this.o.volume)&&this.toggleMuted(),this.addListeners(),this.o.autoTogglePlay&&this.onScroll(),this.trigger("built"),this.checkBuildStoryboard(),this.o.autoplay&&this.video.paused&&!this.o.autoTogglePlay&&this.play())}},{key:"checkBuildStoryboard",value:function(){this.built&&this.mmmDone&&this.buildStoryBoard()}},{key:"buildWrapper",value:function(){this.initialStyle=this.o.$video.attr("style"),this.o.$video.removeAttr("style");var e=document.createElement("div");e.className=this.o.classNames.videoWrapper,this.o.wrapperClass&&(e.className+=" "+this.o.wrapperClass),this.video.muted&&(e.className+=" player-muted"),this.subtitlesActive&&(e.className+=" player-subtitles"),this.o.tiny&&(e.className+=" player-tiny"),this.o.$video.wrap(e),this.$el=this.o.$video.parent(),this.$el.attr("style",this.initialStyle),"middle"!==this.o.align&&this.$el.addClass("align-"+this.o.align),window.diorV7.config.minisite&&this.$el.parent().addClass("dior-v7")}},{key:"buildPoster",value:function(){if(this.o.poster){var e=new Image;e.className="player-poster",e.src=this.o.poster,this.$el.append(e)}}},{key:"buildControls",value:function(){var e=this,t=Modernizr.fullscreen||this.o.$video.parents(".popin").length&&!$j("html").hasClass("popin-fullscreen")||!this.o.$video.parents(".popin").length;this.$el.append(this.o.controlsTemplate({centralPlayButton:this.o.classNames.centralPlayButton+(this.o.playClass?" "+this.o.playClass:""),diorTV:this.o.diorTV,controlsWrapper:this.o.classNames.controlsWrapper,currentTime:r(this.video.currentTime),duration:r(this.video.duration),hasFullscreen:t,hasSubtitles:this.o.subtitles,hasMute:this.o.mute,hasSoundBar:this.o.hasSoundBar,hasChapters:this.o.chapters,repeat:this.o.classNames.repeat,tiny:this.o.tiny,locale:this.o.locale})),this.$controls=this.$el.find("."+this.o.classNames.controlsWrapper),this.seeker=new c.default({$el:this.$controls.find(".js-player-seeker"),onChange:function(t){return e.setTimeFromPercents(t)}}),this.o.hasSoundBar&&(this.$volume=this.$controls.find(".js-player-volume"),this.volume=new c.default({$el:this.$volume.find(".js-player-volume-input-range"),onChange:function(t){return e.setVolume(t)}}),this.setVolume(this.o.volume)),this.$controls.find(".js-tooltip-trigger").on("mouseover",function(t){e.$controls.find('.js-tooltip[data-tooltip="'+$j(t.currentTarget).data("tooltip")+'"]').addClass("visible")}).on("mouseout",function(t){e.$controls.find('.js-tooltip[data-tooltip="'+$j(t.currentTarget).data("tooltip")+'"]').removeClass("visible")})}},{key:"buildStoryBoard",value:function(){this.storyBoard||(this.storyBoard={}),this.storyBoard.el=document.createElement("div"),this.storyBoard.el.className="player-storyboard",this.$controls.find(".player-preview").append(this.storyBoard.el),this.$preview=this.$controls.find(".player-preview"),this.loadStoryBoard()}},{key:"loadStoryBoard",value:function(){var e=this;this.storyBoard.frameWidth=this.storyBoard.sequenceWidth/this.storyBoard.framesPerSequence,this.storyBoard.frameNumber=Math.ceil(this.video.duration*this.storyBoard.fps);for(var t,i=this.storyBoard.path.split("storyboard_")[0],n=0;n<this.storyBoard.sequenceNumber;++n){for(t=n.toString();t.length<4;)t="0"+t;this.storyBoard.sequenceSources.push(i+"storyboard_"+t+".jpg")}diorV7.preloader.preload(this.storyBoard.sequenceSources,function(t){e.storyBoard.sequences=t,e.$controls.find(".js-player-seeker").on("mousemove",e._updatePreview),e.$controls.find(".js-player-seeker").on("mouseout",e._hidePreview),e.storyBoardBuilt=!0})}},{key:"buildSubtitles",value:function(){var e=this;this.o.subtitles&&(this.subtitles=[],this.activeSubtitle=-1,this.$subtitlesArea=this.$el.find(".js-player-subtitles-area"),this.$subtitleContent=this.$el.find(".js-subtitle-content"),$j.ajax({url:this.o.subtitles,type:"GET",dataType:"xml",success:function(t){e.TTML=new p.default(t,e.$subtitlesArea),e.o.subtitlesOn&&e.toggleSubs()}}))}},{key:"setTimeFromPercents",value:function(e){this.video.currentTime=this.video.duration*e*.01,this.trackEvent("Timeline")}},{key:"updatePreview",value:function(e){this.$preview.toggleClass("active",!0);var t=.01*this.seeker.pointerPositionToPercents(diorV7.helpers.normalizeInput.eventToCoordinate(e).x),i=Math.ceil(this.video.duration*t*this.storyBoard.fps),n=Math.floor(i/this.storyBoard.framesPerSequence);"undefined"!=typeof this.storyBoard.activeSequence&&n===this.storyBoard.activeSequence||this.$preview.find(".player-storyboard").html(this.storyBoard.sequences[n]),this.storyBoard.activeSequence=n;var o=i*this.storyBoard.frameWidth%this.storyBoard.sequenceWidth,r=t*this.$controls.width()-.5*this.$preview.width();r=Math.min(Math.max(0,r),this.$controls.width()-this.$preview.width()),this.$preview.css("left",r).find("img").css("left",-o)}},{key:"hidePreview",value:function(){this.$preview.toggleClass("active",!1)}},{key:"buildShare",value:function(){var e=this,t=this.$controls.find("li.share-open").outerWidth(!0),i=this.$controls.find(".share-container").width()-t;if(this.$controls.find(".icon-player-share").on("click",function(t){t.preventDefault(),e.$controls.find(".share-container").width(i).addClass("open")}),this.$controls.find(".icon-player-close-share").on("click",function(i){i.preventDefault(),e.$controls.find(".share-container").width(t).removeClass("open")}),this.$controls.find(".share-container").width(t),window.clipboardData)this.$el.find(".copy").on("click",function(){window.clipboardData.setData("Text",e.$el.find(".insert textarea").val())});else{var n=this.$el.find(".insert textarea")[0],o=document.createRange();o.selectNode(n),window.getSelection().addRange(o);try{document.execCommand("copy")}catch(e){console.warn(e)}window.getSelection().removeAllRanges()}this.$el.find(".icon-player-embed").on("click",function(t){t.preventDefault();var i=e.$el.find("#"+e.$el.attr("id")+"_embedLayer");i.toggle()}),this.$el.find(".share-container .icon-player-layer-close").on("click",function(t){t.preventDefault(),e.params.$el.find("#"+e.$el.attr("id")+"_embedLayer").hide()})}},{key:"trigger",value:function(e,t){this.dispatcher.trigger(e,this)}},{key:"on",value:function(e,t,i){this.dispatcher.on(e,t,i)}},{key:"off",value:function(e,t){this.dispatcher.off(e,t)}},{key:"onTimeupdate",value:function(){this.trackCompletion(),this.$controls.find(".js-player-current-time").text(r(this.video.currentTime)),this.seeker.set(this.video.currentTime/this.video.duration*100,!0),this.subtitlesActive&&this.TTML.update(this.video.currentTime)}},{key:"onMouseover",value:function(){clearTimeout(this.fadeTimeout),this.toggleControls(!0)}},{key:"onMouseout",value:function(){this.fadeTimeout=setTimeout(this._hideControls,this.o.controlsFadeTimeout)}},{key:"onFullscreenchange",value:function(){this.isFullscreen=!this.isFullscreen,this.$el.toggleClass(this.o.classNames.fullscreen,this.isFullscreen),this.onResize(),this.trackEvent("Fullscreen")}},{key:"onEnded",value:function(){this.$el.toggleClass(this.o.classNames.hasEnded,!0),this.trackEvent("Video Completion 100"),this.trigger("end")}},{key:"onResize",value:function(){this.seeker&&this.seeker.setSize(),this.volume&&this.volume.setSize()}},{key:"addListeners",value:function(){var e=this;this._togglePlayPause=function(t){return e.togglePlayPause(t)},this._toggleFullscreen=function(){return e.toggleFullscreen()},this._exitFullscreen=function(){return e.toggleFullscreen(!1)},this._onTimeupdate=function(){return e.onTimeupdate()},this._onMouseover=function(){return e.onMouseover()},this._onMouseout=function(){return e.onMouseout()},this._hideControls=function(){return e.toggleControls(!1)},this._toggleMuted=function(t){return e.toggleMuted(t)},this._toggleSubs=function(){return e.toggleSubs()},this._onEnded=function(){return e.onEnded()},this._repeat=function(){return e.repeat()},this._updatePreview=function(t){return e.updatePreview(t)},this._hidePreview=function(){return e.hidePreview()},this._onScroll=function(){return e.onScroll()},this._onResize=function(){return e.onResize()},this.o.$video.on("click",this._togglePlayPause),window.diorV7.helpers.isTactile()||(this.$el.on("mouseover",this._onMouseover),this.$el.on("mouseout",this._onMouseout)),this.$el.find("img, ."+this.o.classNames.centralPlayButton).on("click",this._togglePlayPause),this.$el.on("click","."+this.o.classNames.repeat,this._repeat),this.$el.find(".js-player-exit-fullscreen").on("click",this._exitFullscreen),this.$controls.find(".js-player-play").on("click",this._togglePlayPause),this.$controls.find(".js-toggle-sound").on("click",this._toggleMuted),this.$controls.find(".js-toggle-subs").on("click",this._toggleSubs),this.$controls.find(".js-player-fullscreen").on("click",this._toggleFullscreen),this.video.addEventListener("timeupdate",this._onTimeupdate),this.video.addEventListener("ended",this._onEnded),this.o.autoTogglePlay&&$j(window).on("scroll",this._onScroll),$j(window).on("resize",this.onResize)}},{key:"removeListeners",value:function(){this.o.$video.off("click",this._togglePlayPause),this.$el.off("mouseover",this._onMouseover),this.$el.off("mouseout",this._onMouseout),this.$el.find("img, ."+this.o.classNames.centralPlayButton).off("click",this._togglePlayPause),this.$el.off("click","."+this.o.classNames.repeat,this._repeat),this.$el.find(".js-player-exit-fullscreen").off("click",this._exitFullscreen),this.$controls.find(".js-player-play").off("click",this._togglePlayPause),this.$controls.find(".js-toggle-sound").off("click",this._toggleMuted),this.$controls.find(".js-toggle-subs").off("click",this._toggleSubs),this.$controls.find(".js-player-fullscreen").off("click",this._toggleFullscreen),this.video.removeEventListener("durationchange",this._build),this.video.removeEventListener("timeupdate",this._onTimeupdate),this.video.removeEventListener("ended",this._onEnded),$j(window).off("scroll",this._onScroll).off("resize",this.onResize),clearTimeout(this.fadeTimeout),this.storyBoardBuilt&&(this.$controls.find(".js-player-seeker").off("mousemove",this._updatePreview),this.$controls.find(".js-player-seeker").off("mouseout",this._hidePreview))}},{key:"onScroll",value:function(){if(!(diorV7.popinManager&&diorV7.popinManager.isPopinOpened()||this.userPaused)){var e=this.$el.height(),t=$j(window).scrollTop(),i=t+$j(window).height(),n=this.$el.offset().top,o=this.$el.offset().top+e,r=Math.min(o,i)-Math.max(n,t);r>=e*this.o.playVisibleThreshold?this.play():r<=e*(1-this.o.playVisibleThreshold)&&this.pause()}}},{key:"trackEvent",value:function(e){diorV7.tracking.trackEvent(e,this.o.mmmID||"MMM_"+this.o.$video.attr("id"))}},{key:"trackCompletion",value:function(){return this.video.currentTime>.5*this.video.duration&&!this.completed50?(this.completed50=!0,this.trackEvent("Video Completion 50")):this.video.currentTime>.75*this.video.duration&&!this.completed75?(this.completed75=!0,this.trackEvent("Video Completion 75")):void(this.video.currentTime>.25*this.video.duration&&(this.completed25||(this.completed25=!0,this.trackEvent("Video Completion 25"))))}}],[{key:"PauseAll",value:function(e){for(var t=v.length,i=0;i<t;++i){var n=v[i];e&&e==n||v[i].pause()}}},{key:"Get",value:function(e){for(var t=v.length,i=0;i<t;++i){var n=v[i];if(n.video.getAttribute("id")==e)return n}}},{key:"Init",value:function(e){e&&e.length||(e=$j("main").find("video[data-options]")),e.each(function(e,t){var i=$j(t),n=i.data("options"),o=void 0;o=n.chapters?new diorV7.PlayerChaptered(n,i):new diorV7.Player(n,i),o.on("ready",function(){window.console&&console.log("[Player]::ready"),i.trigger("ready")})})}},{key:"Destroy",value:function(t){var i=e.Get(t);if(!i)return void(window.console&&console.warn("[Player]: player to destroy not found for id "+t));i.removeListeners();var n=v.indexOf(i);n!=-1&&v.splice(n,1),delete widemotion.W.ids[i.o.mmmID],delete widemotion.W.video_tags[t]}},{key:"documentFullscreenchange",value:function(e){var t=document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.fullscreenElement;t?(y=diorV7.Player.Get($j(t).find("video").attr("id")),y?y.onFullscreenchange():window.console&&console.warn("[Player]: couldn't find an instance of player attached to the fullscreened element. Missing id on video tag?")):y&&(y.onFullscreenchange(),
y=null)}},{key:"videos",get:function(){return v}}]),e}();i.default=m},{"../modules/Dispatcher.js":27,"../templates.common.js":32,"./InputRange.js":5,"./TTML.js":8}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},u=e("./Player.js"),c=n(u),d=e("../templates.common.js"),p=n(d);e("core-js/fn/array/find");var h=function(e){function t(e,i){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.on("built",n.buildChapterSlider,n),n.o.chapters||console.warn("PlayerChaptered -> chapters are undefined"),n}return s(t,e),a(t,[{key:"buildChapterSlider",value:function(){var e=this;this.maxVisible=5,this.o.chapters.length>this.maxVisible&&(this.$el.append(p.default.player.chapterSlider({chapters:this.o.chapters})),this.$chapterSliderParent=this.$el.find(".player-chapter-slider"),this.$chapterSlider=this.$chapterSliderParent.children("ul"),this.chapterSlider=this.$chapterSlider.bxSlider(this.getSliderOptions()),this._onChapterClick=function(t){return e.onChapterClick(t)},this._updateChapter=function(t){return e.updateChapter(t)},this.$chapterSlider.find("li").on("click",this._onChapterClick),this.video.addEventListener("timeupdate",this._updateChapter))}},{key:"getSliderOptions",value:function(){var e=this;return{infiniteLoop:!1,pager:!1,moveSlides:1,minSlides:this.maxVisible,maxSlides:this.maxVisible,slideWidth:this.$chapterSliderParent.width()/this.maxVisible,onSlideBefore:function(t,i,n){n+e.maxVisible===e.o.chapters.length?e.$chapterSliderParent.find(".bx-next").addClass("disabled"):e.$chapterSliderParent.find(".bx-next").removeClass("disabled"),0===n?e.$chapterSliderParent.find(".bx-prev").addClass("disabled"):e.$chapterSliderParent.find(".bx-prev").removeClass("disabled")}}}},{key:"onChapterClick",value:function(e){this.goToChapter(parseInt($j(e.currentTarget).data("index")))}},{key:"goToChapter",value:function(e){this.setActiveChapter(e),this.video.currentTime=this.o.chapters[e].time,this.trigger("chapterChange")}},{key:"setActiveChapter",value:function(e){this.activeChapter=e,this.chapterSlider.goToSlide(e),this.$chapterSlider.find("li").removeClass("active"),this.$chapterSlider.find('li[data-index="'+e+'"]').addClass("active"),this.$controls.find(".js-player-chapter").text(this.o.chapters[e].title)}},{key:"updateChapter",value:function(){this.setActiveChapter(this.findChapterForTime(this.video.currentTime))}},{key:"destroy",value:function(){this.$chapterSlider.find("li").off("click",this._onChapterClick),this.video.removeEventListener("timeupdate",this._updateChapter),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"findChapterForTime",value:function(e){for(var t=0,i=0,n=this.o.chapters.length;i<n&&!(this.o.chapters[i].time>e);++i)e>=this.o.chapters[i].time&&(t=i);return t}},{key:"onResize",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onResize",this).call(this),this.chapterSlider&&this.chapterSlider.reloadSlider(this.getSliderOptions())}}]),t}(c.default);i.default=h},{"../templates.common.js":32,"./Player.js":6,"core-js/fn/array/find":33}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e=e.split(":").map(function(e){return parseFloat(e)}),e[1]+=60*e[0],e[1]*=60,e[1]+e[2]}function r(e){var t={};for(var i in l)e.getNamedItem(i)&&(t[l[i]]=e.getNamedItem(i).nodeValue);return t}function s(e){return e.attr("id")||e.attr("xml:id")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l={textAlign:"text-align","tts:textAlign":"text-align",padding:"padding","tts:padding":"padding",color:"color","tts:color":"color","tts:backgroundColor":"background-color","tts:fontSize":"font-size","tts:fontWeight":"font-weight","tts:fontFamily":"font-family","tts:fontStyle":"font-style","tts:opacity":"opacity"},u=function(){function e(t,i){n(this,e),this.$xml=$j(t),this.$container=i,this.setStyles(),this.buildRegions(),this.setSubtitles()}return a(e,[{key:"buildRegions",value:function(){this.regionsActiveSubtitle={},this.$xml.find("head > layout > region").each(this.buildRegion.bind(this))}},{key:"buildRegion",value:function(t,i){i=$j(i);var n=$j('<div class="player-subtitle-region"></div>');n.attr("id",s(i)),i.attr("style")&&e.applyStyle(n,this.styles[i.attr("style")]),this.$container.append(n),this.regionsActiveSubtitle[n.attr("id")]=-1}},{key:"setStyles",value:function(){this.styles={},this.$xml.find("head > styling > style").each(this.setStyle.bind(this))}},{key:"setStyle",value:function(e,t){t=$j(t),this.styles[s(t)]=r(t[0].attributes)}},{key:"setSubtitles",value:function(){this.subtitles={},this.$xml.find("body p").each(this.setSubtitle.bind(this))}},{key:"setSubtitle",value:function(t,i){i=$j(i);var n=o(i.attr("begin")),r=e.findSubtitleRegion(i);this.subtitles[r]||(this.subtitles[r]=[]),this.subtitles[r].push({index:t,start:n,end:i.attr("end")?o(i.attr("end")):n+o(i.attr("dur")),content:i.text(),style:i.attr("style")})}},{key:"update",value:function(e){for(var t in this.subtitles)this.subtitles.hasOwnProperty(t)&&this.updateRegion(t,this.getRegionSubtitleForTime(e,t))}},{key:"updateRegion",value:function(t,i){var n=this.$container.find($j("#"+t));if(i){if(this.regionsActiveSubtitle[t]!==i.index){this.regionsActiveSubtitle[t]=i.index;var o=$j("<p></p>");o.html(i.content),i.style&&e.applyStyle(o,this.styles[i.style]),n.html(o).toggleClass("active",!0)}}else n.toggleClass("active",!1).empty(),this.regionsActiveSubtitle[t]=-1}},{key:"getRegionSubtitleForTime",value:function(e,t){for(var i=0,n=this.subtitles[t].length;i<n;++i)if(e>=this.subtitles[t][i].start&&e<=this.subtitles[t][i].end)return this.subtitles[t][i]}}],[{key:"findSubtitleRegion",value:function(e){if(e.attr("region"))return e.attr("region");for(var t=e.parents(),i=0,n=t.length;i<n;++i)if(t[i].attributes.getNamedItem("region"))return t[i].attributes.getNamedItem("region").nodeValue}},{key:"applyStyle",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i]);return e}},{key:"setRegionOrigin",value:function(e,t){return t?(t=t.split(" "),e.css("left",t[0]),e.css("top",t[1])):(e.css("bottom",55),e.css("left","50%"),e.css(Modernizr.prefixed("transform"),"translateX(-50%)")),e}},{key:"setRegionExtent",value:function(e,t){return t&&(t=t.split(" "),e.css("width",t[0]),e.css("height",t[1])),e}}]),e}();i.default=u},{}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e);var i={identifier:null,$trigger:null,$el:null,$wrapper:$j("#popin-wrapper"),manager:null,closeButtonClass:".js-popin-close",template:null,webservice:null,triggerEvents:0,fullscreen:0};this.o=$j.extend(i,t),this.isOpen=!1,this.init(),this.$el.data("popin",this),this.addListeners()}return o(e,[{key:"init",value:function(){this.$el=this.o.$el}},{key:"addListeners",value:function(){var e=this;this.o.$trigger&&(this._onTriggerClick=function(t){return e.open(t)},this.o.$trigger.on("click",this._onTriggerClick)),this.o.$wrapper&&this.o.$wrapper.on("click",this._onCloseClick),this._onCloseClick=function(){return e.close()},this.$el.find(this.o.closeButtonClass).on("click",this._onCloseClick),this._resize=function(){return e.resize()},window.addEventListener("resize",this._resize())}},{key:"open",value:function(e){var t=this;this.isOpen||(this.isOpen=!0,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",1,function(){t.trigger("opened"),t.$el.find(".js-form").length&&t.$el.find(".js-form").each(function(){$j(this).data("formValidator")&&$j(this).data("formValidator").refreshListeners()})}),this.trigger("open"),this.toggleFullscreen(),this.o.manager.toggleOverlay(this.$el,1),diorV7.Player.PauseAll(this.player))}},{key:"toggleFullscreen",value:function(e){if(e||(e=this.o.fullscreen),e){var t=this.$el.css("z-index");this.$el.removeAttr("style").css("z-index",t),$j("html").addClass("popin-fullscreen")}else this.setPosition(),$j("html").removeClass("popin-fullscreen")}},{key:"setPosition",value:function(){var e=this,t=Math.min($j("body").height()-window.innerHeight,$j(document).scrollTop());setTimeout(function(){var i=.5*(window.innerHeight-e.$el.outerHeight(!0));i<0?($j("html").addClass("popin-scrollable"),e.$el.css("top",60),$j("#popin-wrapper").css({height:"100vh",width:"100%",top:0})):(i=Math.max(60,i),e.$el.css("top",t+i),$j("#popin-wrapper").css({height:"100%",width:"100%",top:0}))},50)}},{key:"close",value:function(){var e=this;this.isOpen&&(this.isOpen=!1,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",0,function(){e.o.fullscreen&&$j("html").removeClass("popin-fullscreen"),$j("html").removeClass("popin-scrollable"),e.trigger("closed")}),this.o.manager.toggleOverlay(this.$el,0),this.trigger("close"))}},{key:"resize",value:function(){this.trigger("resize")}},{key:"destroy",value:function(){this.o.$trigger&&this.o.$trigger.off("click",this._onTriggerClick),this.$el.find(this.o.closeButtonClass).off("click",this._onCloseClick),window.removeEventListener("resize",this._resize()),this.trigger("destroyed")}},{key:"trigger",value:function(e){this.o.triggerEvents&&diorV7.dispatcher.trigger("popin-"+this.o.identifier+"::"+e)}},{key:"on",value:function(e,t){this.o.triggerEvents&&diorV7.dispatcher.on("popin-"+this.o.identifier+"::"+e,t)}}]),e}();i.default=r},{}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./Popin.js"),u=n(l),c=e("../../templates.common.js"),d=n(c),p=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),a(t,[{key:"init",value:function(){this.o.$wrapper.append(d.default.popin({identifier:this.o.identifier})),this.$el=this.o.$wrapper.find(".js-popin-"+this.o.identifier)}},{key:"open",value:function(){var e=this;this.hasData||this.getData(function(t){e.render(t),e.open()}),this.isOpen||(this.isOpen=!0,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",1))}},{key:"getData",value:function(e){var t=this;this.o.webservice&&this.o.webservice.url||console.warn("PopinDynamic.init -> webservice is required"),$j.ajax({url:this.o.webservice.url,type:this.o.webservice.method||"GET",xhrFields:this.webservice.o.xhrFields,success:function(i){t.data=i,t.hasData=!0,e(i)},failure:function(e){console.warn("PopinDynamic.init -> "+t.o.webservice.url+" error")}})}},{key:"render",value:function(e){this.o.template||console.warn("PopinDynamic.render -> template is required"),this.$el.append(this.o.template(e))}}]),t}(u.default);i.default=p},{"../../templates.common.js":32,"./Popin.js":9}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},u=e("./Popin.js"),c=n(u),d=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.$video=i.$el.find("video"),i.$video.length?i.$video.attr("id")||console.warn("[PopinPlayer]: missing id on video tag (absolutly needed by MMMM)."):console.warn("[PopinPlayer]: missing popin video element."),i.on("closed",function(){i.player&&(i.player.off("exitFullscreen",i._closeCb),i.player.off("end",i._closeCb),i.player.off("built",i._readyCb),i.player.destroy(),delete i.player)}),i.on("opened",function(){i.o.fullscreen&&$j("html").addClass("popin-fullscreen"),i.player.onResize()}),i}return s(t,e),a(t,[{key:"open",value:function(e){this.previousScrollLevel=$j("html").scrollTop()||$j("body").scrollTop();var t=e.currentTarget?$j(e.currentTarget):$j(e),i=$j(t).data("options");i.autoplay=!0,this.o.fullscreen=i.fullscreen,this.player=new diorV7.Player(i,this.$video),this.player.o.triggerEvents=1,this._closeCb=this.close.bind(this),this.player.on("exitFullscreen",this._closeCb),this.player.on("end",this._closeCb),window.diorV7.helpers.isTactile()?this.onReady():(this._readyCb=this.onReady.bind(this),this.player.on("built",this._readyCb))}},{key:"onReady",value:function(e){var i=this;setTimeout(function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",i).call(i,e),diorV7.helpers.isTactile()||i.player.play()},150)}},{key:"close",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),$j("html").removeClass("popin-fullscreen"),window.scrollTo(0,this.previousScrollLevel)}}]),t}(c.default);i.default=d},{"./Popin.js":9}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=e("./helpers/registerHandlebarsHelper.js"),r=n(o),s=e("./modules/DOMStateManager.js"),a=n(s),l=e("./modules/Dispatcher.js"),u=n(l),c=e("./modules/popinManager.js"),d=n(c),p=e("./components/Accordion.js"),h=n(p),f=e("./components/AutoComplete.js"),v=n(f),y=e("./components/AutoCompleteId.js"),m=n(y),g=e("./components/AutoCompleteSearch.js"),b=n(g),w=e("./components/Player.js"),_=n(w),k=e("./components/PlayerChaptered.js"),P=n(k),j=e("./helpers/css3.js"),S=e("./helpers/fullscreen.js"),x=n(S),C=e("./helpers/getLanguage.js"),O=n(C),E=e("./helpers/normalizeInput.js"),T=n(E),M=e("./helpers/queryString.js"),V=n(M),F=e("./helpers/stringToBoolean.js"),L=n(F),I=e("./helpers/deviceDetection.js"),A=e("./modules/forms.js"),D=n(A),B=e("./modules/preloader.js"),N=n(B),z=e("./modules/tracking.js"),H=n(z);window.diorV7.dispatcher=new u.default,window.diorV7.DOMStateManager=a.default,window.diorV7.data={cart:{}},window.diorV7.helpers={transitionEnd:j.transitionEnd,isTactile:I.isTactile,isIE9:I.isIE9,isIE10:I.isIE10,isIE11:I.isIE11,isEdge:I.isEdge,isIE:I.isIE,fullscreen:x.default,getLanguage:O.default,normalizeInput:T.default,queryString:V.default,stringToBoolean:L.default,registerHandlebarsHelper:r.default},window.diorV7.Accordion=h.default,window.diorV7.AutoComplete=v.default,window.diorV7.AutoCompleteId=m.default,window.diorV7.AutoCompleteSearch=b.default,window.diorV7.Player=_.default,window.diorV7.PlayerChaptered=P.default,window.diorV7.preloader=N.default,window.diorV7.tracking=H.default,window.diorV7.forms=D.default,window.modules||(window.modules={}),window.core?window.core.signals={global:null}:window.core={signals:{global:null}},$j(window).ready(function(){window.diorV7.helpers.isTactile(),window.diorV7.helpers.isIE(),document.removeEventListener("fullscreenchange",_.default.documentFullscreenchange),document.removeEventListener("webkitfullscreenchange",_.default.documentFullscreenchange),document.removeEventListener("mozfullscreenchange",_.default.documentFullscreenchange),document.removeEventListener("MSFullscreenChange",_.default.documentFullscreenchange),document.addEventListener("fullscreenchange",_.default.documentFullscreenchange),document.addEventListener("webkitfullscreenchange",_.default.documentFullscreenchange),document.addEventListener("mozfullscreenchange",_.default.documentFullscreenchange),document.addEventListener("MSFullscreenChange",_.default.documentFullscreenchange),fontSpy("dior-iconfont",{testString:"&#xea01;&#xea02;&#xea03;",success:function(){$j("html").removeClass("icons-loading")},failure:function(){$j("html").removeClass("icons-loading")},delay:10,timeOut:1e3}),window.diorV7.forms.init(),window.diorV7.popinManager=d.default.init()})},{"./components/Accordion.js":1,"./components/AutoComplete.js":2,"./components/AutoCompleteId.js":3,"./components/AutoCompleteSearch.js":4,"./components/Player.js":6,"./components/PlayerChaptered.js":7,"./helpers/css3.js":13,"./helpers/deviceDetection.js":14,"./helpers/fullscreen.js":15,"./helpers/getLanguage.js":16,"./helpers/normalizeInput.js":22,"./helpers/queryString.js":23,"./helpers/registerHandlebarsHelper.js":24,"./helpers/stringToBoolean.js":25,"./modules/DOMStateManager.js":26,"./modules/Dispatcher.js":27,"./modules/forms.js":28,"./modules/popinManager.js":29,"./modules/preloader.js":30,"./modules/tracking.js":31}],13:[function(e,t,i){"use strict";function n(){return o[Modernizr.prefixed("transition")]}Object.defineProperty(i,"__esModule",{value:!0}),i.transitionEnd=n;var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}},{}],14:[function(e,t,i){"use strict";function n(){return void 0===u&&(u=/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|webOS/i.test(navigator.userAgent),u&&$j("html").addClass("tablet")),u}function o(){return void 0===c&&(c=$j("html")[0].className.match(/ie9/)),c}function r(){return void 0===d&&(d=navigator.appVersion.indexOf("MSIE 10")!==-1,d&&$j("html").addClass("ie10")),d}function s(){return void 0===p&&(p=!!navigator.userAgent.match(/Trident\/7\./),p&&$j("html").addClass("ie11")),p}function a(){return void 0===h&&(h=/Edge/.test(navigator.userAgent),h&&$j("html").addClass("edge")),h}function l(){return void 0===f&&(f=o()||r()||s()||a(),f&&$j("html").addClass("ie")),f}Object.defineProperty(i,"__esModule",{value:!0}),i.isTactile=n,i.isIE9=o,i.isIE10=r,i.isIE11=s,i.isEdge=a,i.isIE=l;var u=void 0,c=void 0,d=void 0,p=void 0,h=void 0,f=void 0},{}],15:[function(e,t,i){"use strict";t.exports=function(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e[0].requestFullscreen?e[0].requestFullscreen():e[0].mozRequestFullScreen?e[0].mozRequestFullScreen():e[0].webkitRequestFullscreen?e[0].webkitRequestFullscreen():e[0].msRequestFullscreen&&e[0].msRequestFullscreen()}},{}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){var e=/\/[^\/]*([A-Za-z]{2}_[A-Za-z]{2,3})/g,t=e.exec(window.location.href);return t?t[1]:(t=r.default.get("lang"),t?t:"fr_fr")};var o=e("./queryString.js"),r=n(o)},{"./queryString.js":23}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i,n){switch(t){case"==":return e==i?n.fn(this):n.inverse(this);case"===":return e===i?n.fn(this):n.inverse(this);case"!=":return e!=i?n.fn(this):n.inverse(this);case"!==":return e!==i?n.fn(this):n.inverse(this);case"<":return e<i?n.fn(this):n.inverse(this);case"<=":return e<=i?n.fn(this):n.inverse(this);case">":return e>i?n.fn(this):n.inverse(this);case">=":return e>=i?n.fn(this):n.inverse(this);case"&&":return e&&i?n.fn(this):n.inverse(this);case"||":return e||i?n.fn(this):n.inverse(this);case"%":return e%i?n.fn(this):n.inverse(this);default:return n.inverse(this)}}},{}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){return new Handlebars.SafeString(t[e])}},{}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){if(e)return JSON.stringify(e).replace(/(['])/g,"&apos;")}},{}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){for(var i="",n=0;n<e;++n)i+=t.fn(this);return i}},{}],21:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){if(e.length>t&&e.length>0){var i=e+" ";return i=e.substr(0,t),i=e.substr(0,i.lastIndexOf(" ")),i=i.length>0?i:e.substr(0,t),new Handlebars.SafeString(i+"...")}return e}},{}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={eventToCoordinate:function(e){return"undefined"!=typeof e.pageX?{x:e.pageX,y:e.pageY}:{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}}};i.default=n},{}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={get:function(e){for(var t={},i=window.location.search.substring(1),n=i.split("&"),o=n.length,r=0;r<o;r++){var s=n[r].split("=");if("undefined"==typeof t[s[0]])t[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof t[s[0]]){var a=[t[s[0]],decodeURIComponent(s[1])];t[s[0]]=a}else t[s[0]].push(decodeURIComponent(s[1]))}return e?t[e]:t},set:function(e,t,i,n){var o={},r=window.location.search.replace("?","");r&&(r.split("&"),r instanceof Array||(r=[r]),r.forEach(function(e){o[e[0]]="undefined"!=typeof e[1]?e[1]:""})),o[e]=t,r="?";for(var s in o)o.hasOwnProperty(s)&&(r+=e+"="+o[s]+"&");r=r.replace(/&$/,""),this.pushState(i,window.location.pathname+r,n)},pushState:function(e,t,i){diorV7.helpers.isIE9()?i&&(window.location.href=t):window.history.pushState(e||{},"",t)}};i.default=n},{}],24:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){if(y.indexOf(e)<0){switch(e){case"ifCond":window.diorV7.Handlebars.registerHelper("ifCond",r.default);break;case"stringify":window.diorV7.Handlebars.registerHelper("stringify",a.default);break;case"times":window.diorV7.Handlebars.registerHelper("times",u.default);break;case"truncate":window.diorV7.Handlebars.registerHelper("truncate",d.default);break;case"keyInObject":window.diorV7.Handlebars.registerHelper("keyInObject",h.default)}y.push(e)}})};var o=e("./handlebars/ifCond.js"),r=n(o),s=e("./handlebars/stringify.js"),a=n(s),l=e("./handlebars/times.js"),u=n(l),c=e("./handlebars/truncate.js"),d=n(c),p=e("./handlebars/keyInObject.js"),h=n(p),f=e("../../../node_modules/handlebars/runtime.js"),v=n(f),y=[];window.diorV7||(window.diorV7={}),window.diorV7.Handlebars=v.default},{"../../../node_modules/handlebars/runtime.js":84,"./handlebars/ifCond.js":17,"./handlebars/keyInObject.js":18,"./handlebars/stringify.js":19,"./handlebars/times.js":20,"./handlebars/truncate.js":21}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}},{}],26:[function(e,t,i){"use strict";var n={toggleExpanded:function(e,t){return t="undefined"==typeof t?"true"===e.attr("aria-expanded")?"false":"true":t?"true":"false",e.attr("aria-expanded",t)},expand:function(e){this.toggleExpanded(e,1)},retract:function(){this.toggleExpanded($el,0)},toggleHidden:function(e,t){return"undefined"==typeof t&&(t=!e.prop("hidden")),(diorV7.helpers.isIE9()||diorV7.helpers.isIE10())&&(t?e.attr("hidden","true"):e.removeAttr("hidden")),e.prop("hidden",t)},hide:function(e){this.toggleHidden(e,1)},show:function(e){this.toggleHidden(e,0)},toggleDisabled:function(e,t){return t="undefined"==typeof t?"true"===e.attr("aria-disabled")?"false":"true":t?"true":"false",e.is("button")||e.is("input")||e.is("option")||e.is("select")||e.is("textarea")?void e.prop("disabled","true"===t):e.attr("aria-disabled",t)},disable:function(e){this.toggleDisabled(e,1)},enable:function(e){this.toggleDisabled(e,0)},slideToggle:function(e,t,i,n){var o=this;"undefined"==typeof t&&(t="aria-expanded"),"undefined"==typeof i&&(i=!this.getVisibleStateFromAttribute(e,t)),i?e.slideDown(400,function(){o.setVisibleStateFromAttribute(e,t,1),"function"==typeof n&&n()}):e.slideUp(400,function(){o.setVisibleStateFromAttribute(e,t,0),"function"==typeof n&&n()})},slideDown:function(e,t,i){this.slideToggle(e,t,1,i)},slideUp:function(e,t,i){this.slideToggle(e,t,0,i)},fadeToggle:function(e,t,i,n){var o=this;"undefined"==typeof t&&(t="hidden"),"undefined"==typeof i&&(i=!this.getVisibleStateFromAttribute(e,t)),i?(this.setVisibleStateFromAttribute(e,t,1),e.fadeIn(400,function(){"function"==typeof n&&n()})):e.fadeOut(400,function(){o.setVisibleStateFromAttribute(e,t,0),"function"==typeof n&&n()})},fadeIn:function(e,t,i){this.fadeToggle(e,t,1)},fadeOut:function(e,t,i){this.fadeToggle(e,t,0)},getVisibleStateFromAttribute:function(e,t){switch(t){case"hidden":return!e.prop("hidden");case"aria-expanded":return e.attr("aria-expanded")&&"false"!==e.attr("aria-expanded")&&"0"!==e.attr("aria-expanded")}},setVisibleStateFromAttribute:function(e,t,i){switch("undefined"==typeof i&&(i=!this.getVisibleStateFromAttribute(e,t)),t){case"hidden":return this.toggleHidden(e,!i);case"aria-expanded":return this.toggleExpanded(e,i)}}};t.exports=n},{}],27:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e),this.actions=[]}return o(e,[{key:"on",value:function(e,t,i){return this.actions[e]?this.actions[e].push({scope:i,callback:t}):this.actions[e]=[{scope:i,callback:t}],this}},{key:"off",value:function(e,t){this.actions[e]||console.warn("Dispatcher->"+e+" is undefined"),t||(this.actions[e]=[]);var i=this.actions[e].indexOf(t);return i>-1&&this.actions[e].splice(i,1),this}},{key:"trigger",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.actions[e]&&this.actions[e].forEach(function(e){if("function"==typeof e.callback){var t;e.scope?(t=e.callback).call.apply(t,[e.scope].concat(i)):e.callback.apply(e,i)}}),this}}]),e}();i.default=r},{}],28:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={init:function(){var e=$j("input[placeholder]");diorV7.helpers.isIE9()&&this.IE9Placeholders(e),$j(".js-sublist").each(function(){$j(this).sublistSelect($j($j(this).data("sublist-target")),$j(this).data("sublist"))}),this.initAutocomplete()},IE9Placeholders:function(e){e.each(function(){var e=$j(this),t=e.parents('.accordion-section[aria-expanded="false"]');t.length&&t.show(),e.val()||e.parents(".form-field:first").addClass("show-placeholder");var i=document.createElement("div");i.className="form-field-placeholder",i.style.width=e.outerWidth()+"px",i.style.height=e.outerHeight()+"px",i.style.top=e.position().top+"px",i.style.paddingLeft=window.getComputedStyle(e[0]).paddingLeft,i.innerText=e.attr("placeholder"),e.after(i),e.val()&&n.IE9onFocus.call($j(i)),t.length&&t.hide()}),$j(".form-field-placholder").on("mousedown",this.IE9PlaceholderMouseDown),e.on("focus",this.IE9onFocus),e.on("focusout",this.IE9onFocusOut)},IE9PlaceholderMouseDown:function(){$j(this).parents(".form-field:first").find("input:first").focus()},IE9onFocus:function(){$j(this).parents(".form-field:first").removeClass("show-placeholder")},IE9onFocusOut:function(){var e=$j(this);e.val()||e.parents(".form-field:first").addClass("show-placeholder")},IE9RefreshPlaceholders:function(e){e.find("input[placeholder]").each(function(){var e=$j(this);e.val()&&n.IE9onFocus.call(e)})},initAutocomplete:function(){$j(".dior-v7 .js-autocomplete").each(function(){new diorV7.AutoComplete($j(this))}),$j(".dior-v7 .js-autocomplete-id").each(function(){var e=$j(this);new diorV7.AutoCompleteId(e,e.attr("data-autocomplete-id"),e.attr("data-autocomplete-label"),$j(e.attr("data-autocomplete-hidden")),{restrictive:!0})});var e=$j(".dior-v7 .js-autocomplete-county");e.length&&$j.ajax({url:diorV7.config.webservices.COUNTIES.url,type:diorV7.config.webservices.COUNTIES.method,success:function(t){var i=void 0,n=void 0;e.each(function(){n=$j(this),i=new diorV7.AutoCompleteId(n,n.attr("data-autocomplete-id"),n.attr("data-autocomplete-label"),$j(n.attr("data-autocomplete-hidden")),{restrictive:!0}),i.setValues(t)})}});var t=void 0,i=void 0;$j(".dior-v7 .js-autocomplete-update").each(function(){t=$j(this),i=$j(t.attr("data-autocomplete-update")),t.on("change",function(){var e=$j("option:selected",this);i.val("").parents(".form-field").removeClass("has-success has-error"),i.data("AutoComplete").setValues(e.data("autocomplete-values"))}),i.data("AutoComplete").setValues(t.find("option:selected").data("autocomplete-values")),i.attr("data-value-id")&&i.data("AutoComplete").setFromId(i.attr("data-value-id"))})}};i.default=n},{}],29:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=e("../components/popins/Popin.js"),r=n(o),s=e("../components/popins/PopinDynamic.js"),a=n(s),l=e("../components/popins/PopinPlayer.js"),u=n(l),c=e("../templates.common.js"),d=(n(c),{popins:{},openPopins:[],init:function(){var e=this;
this.currentLevel=0,this.minZIndex=50,this.$overlay=$j("#page-overlay"),this.$overlay.on("click",function(){return e.onOverlayClick()}),$j(document).on("keydown",function(t){return e.onKeyDown(t)}),diorV7.helpers.isTactile()&&(this._preventScroll=this.preventScroll.bind(this));var t=diorV7.helpers.queryString.get("popin");if(t&&""!==t){var i=this.popins[t];if(i)this.popinPlayer.open();else{var n=$j("#popin-wrapper .popin-"+t);n.length?(i=this.instanciate({identifier:t,$el:n,triggerEvents:1}),i.open()):console.warn("popinManager.init -> popin that should be automatically opened not found")}}return this},instanciate:function(e,t){return e||console.warn("popinManager.instanciate -> options are required"),e.identifier||console.warn("popinManager.instanciate -> identifier is required"),e.manager=this,t?"dynamic"===t?this.popins[e.identifier]=new a.default(e):this.popins[e.identifier]=new t(e):this.popins[e.identifier]=new r.default(e),this.popins[e.identifier]},initVideoPopin:function(){var e=this,t=$j("body").find(".popin-wrapper.dior-v7"),i=t.find(".js-popin-player");i&&i.length||t.append('            <div class="popin popin-player js-popin-player" hidden="">                <button class="popin-close js-popin-close icon icon-cross" aria-label="Close"></button>                <video id="playerPopin" preload="metadata"></video>            </div>'),this.popinPlayer||(this.popinPlayer=diorV7.popinManager.instanciate({identifier:"popin-player",$el:$j(".js-popin-player"),triggerEvents:1},u.default),this._openPopinPlayer=function(t){t.preventDefault(),e.popinPlayer.open(t)}),$j(".js-popin-player-trigger").off("click",this._openPopinPlayer).on("click",this._openPopinPlayer)},openVideoFullscreen:function(e){this.popinPlayer||this.initVideoPopin(),this.popinPlayer.open(e)},toggleOverlay:function(e,t){var i=this;t?(this.currentLevel++,this.openPopins.push(e.data("popin")),diorV7.helpers.isTactile()&&$j("body")[0].addEventListener("touchmove",this._preventScroll,!1),$j("html").addClass("popin-opened")):(this.currentLevel--,this.openPopins.pop(),diorV7.helpers.isTactile()&&$j("body")[0].removeEventListener("touchmove",this._preventScroll),0===this.openPopins.length&&($j("html").removeClass("popin-opened"),diorV7.helpers.isTactile()&&$j("body").removeAttr("style"),$j("#popin-wrapper").removeAttr("style"))),this.$overlay.css("z-index",this.minZIndex+this.currentLevel),e.css("z-index",this.minZIndex+this.currentLevel+1),this.currentLevel>0?this.$overlay.fadeIn(600):this.$overlay.fadeOut(600,function(){i.$overlay.removeAttr("style")})},preventScroll:function(e){e.preventDefault()},onOverlayClick:function(){this.openPopins.length&&this.openPopins[this.openPopins.length-1].close()},onKeyDown:function(e){27===e.which&&this.onOverlayClick()},open:function(e){this.popins[e].open()},close:function(e){this.popins[e].close()},isPopinOpened:function(){return this.openPopins.length>0}});i.default=d},{"../components/popins/Popin.js":9,"../components/popins/PopinDynamic.js":10,"../components/popins/PopinPlayer.js":11,"../templates.common.js":32}],30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={preload:function(e,t){var i=this;!(e instanceof Array)&&e instanceof String&&(e=[e]);for(var o=0,r={},s=e.length,a=function(s){var a=e[s],l=void 0;if("string"==typeof a)l=a;else{if("object"!==("undefined"==typeof a?"undefined":n(a)))return"continue";l=a.src}++o,i.preloadImg(l,function(i){if(o--,r[l]=i,0===o){var n=e.map(function(e){return r[e]});t(n)}})},l=0;l<s;++l){a(l)}},preloadImg:function(e,t){var i=new Image;i.onload=t.bind(this,i),i.src=e}};i.default=o},{}],31:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={debug:localStorage.debug&&"tracking"===localStorage.debug,init:function(e,t){e||console.warn("tracking -> no data-track-universee defined on main element"),t||console.warn("tracking -> no data-track-page defined on main element"),this.universe=e,this.page=t,$j("*[data-track-label], *[data-track-href], *[data-tpv], *[data-track-object]").off("click",this.track).on("click",this.track),$j(".js-track-checkbox").on("change",this.trackCheckbox)},track:function(e,t){var i=$j(this);if(i.attr("data-track-object")){if(!t){if(i.hasClass("js-noclick-track"))return;i.hasClass("js-stop-propagation")&&e.stopPropagation()}window.diorV7.tracking.trackObjectString(i.attr("data-track-object"))}else{var o="trackEvent";if("undefined"!=typeof i.data("track-event")&&(o=i.data("track-type")),"trackEvent"===o)n.trackEvent(i.data("track-action"),i.data("track-label"));else{if("trackPage"!==o)throw o+" isn't a valid function";n.trackPage(i.data("track-href"))}}},trackObjectString:function(e){var t="string"==typeof e?$j.parseJSON(e.replace(/(\&apos\;)/g,"'")):e;t instanceof Array?t.forEach(function(e){n.pushToDataLayer(e)}):n.pushToDataLayer(t)},trackCheckbox:function(){if($j(this).prop("checked")){var e="",t="*[data-track-checkbox-group="+$j(this).attr("data-track-checkbox-group")+"]";$j(t+":checked").length>0&&(e+=" ",$j(t+":checked").each(function(t){t>0&&(e+=" and "),e+=$j(this).attr("data-track-checked-value")}));var i=$j.parseJSON($j(this).attr("data-track-checked"));i.eventAction+=e,n.pushToDataLayer(i)}},trackPage:function(e){n.pushToDataLayer({event:"tpv",pageVirtualPath:e})},trackEvent:function(e,t){n.pushToDataLayer({event:"trackEvent",eventCategory:n.getEventCategory(),eventAction:e,eventLabel:t})},getEventCategory:function(){return diorV7.config.tracking.prefix+n.universe+"_"+n.page},updateTrackObject:function(e,t){var i=e.data("track-object")||{};$j.extend(i,t),e.attr("data-track-object",JSON.stringify(i))},refreshListeners:function(e){e?e.off("click",this.track).on("click",this.track):$j("*[data-track-label], *[data-track-href], *[data-tpv], *[data-track-object]").off("click",this.track).on("click",this.track)},pushToDataLayer:function(e){this.debug&&console.log("tracking -> ",e),dataLayer.push(e)}};i.default=n},{}],32:[function(e,t,i){"use strict";function n(){this.popin=window.diorV7.Handlebars.template({1:function(e,t,i,n,o){return"hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,r){var s,a,l=null!=t?t:{},u=i.helperMissing,c="function",d=e.escapeExpression;return'<div class="popin popin-'+d((a=null!=(a=i.identifier||(null!=t?t.identifier:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"identifier",hash:{},data:r}):a))+" js-popin-"+d((a=null!=(a=i.identifier||(null!=t?t.identifier:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"identifier",hash:{},data:r}):a))+'" '+(null!=(s=i.unless.call(l,null!=t?t.visible:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'> <button class="popin-close js-popin-close">Close</button> </div>'},useData:!0}),this.player=this.player||{},this.player.chapterSlider=window.diorV7.Handlebars.template({1:function(e,t,i,n,r){var s,a=null!=t?t:{},l=i.helperMissing,u="function",c=e.escapeExpression;return'        <li data-index="'+c((s=null!=(s=i.index||r&&r.index)?s:l,("undefined"==typeof s?"undefined":o(s))===u?s.call(a,{name:"index",hash:{},data:r}):s))+'"><span>'+c((s=null!=(s=i.name||(null!=t?t.name:t))?s:l,("undefined"==typeof s?"undefined":o(s))===u?s.call(a,{name:"name",hash:{},data:r}):s))+"</span></li> "},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var r;return'<div class="player-chapter-slider"> <ul> '+(null!=(r=i.each.call(null!=t?t:{},null!=t?t.chapters:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?r:"")+"    </ul> </div>"},useData:!0}),this.player=this.player||{},this.player.controls=window.diorV7.Handlebars.template({1:function(e,t,i,n,o){return'<div class="player-subtitles-area js-player-subtitles-area"></div>'},3:function(e,t,i,n,o){return'<button class="player-exit-fullscreen js-player-exit-fullscreen">Close</button>'},5:function(e,t,i,n,o){return'style="display: none;"'},7:function(e,t,i,n,o){var r;return'<span class="js-tooltip" data-tooltip="share">'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.share:r,t))+"</span>"},9:function(e,t,i,n,o){var r;return'<span class="js-tooltip" data-tooltip="subtitles" mode="on">'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.subtitles:r,t))+"</span>"},11:function(e,t,i,n,o){var r,s=null!=t?t:{};return'        <div class="share-container"> <ul class="share"> <li class="share-open"><a href="javascript:void(0);" class="icon-player-share js-tooltip-trigger png-bg" data-tooltip="share"></a></li> '+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.embed:r,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o}))?r:"")+" "+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.facebook:r,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o}))?r:"")+" "+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.twitter:r,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o}))?r:"")+" "+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.tumblr:r,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o}))?r:"")+' <li class="icon-player-close-share png-bg"></li> </ul> </div> '},12:function(e,t,i,n,o){return'<li><a href="javascript:void(0);" class="icon-player-embed png-bg"></a></li>'},14:function(e,t,i,n,o){var r;return'<li><a href="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.share:t)?r.facebook:r,t))+'" class="icon-player-facebook png-bg"></a></li>'},16:function(e,t,i,n,o){var r;return'<li><a href="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.share:t)?r.twitter:r,t))+'" class="icon-player-twitter png-bg"></a></li>'},18:function(e,t,i,n,o){var r;return'<li><a href="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.share:t)?r.tumblr:r,t))+'" class="icon-player-tumblr png-bg"></a></li>'},20:function(e,t,i,n,o){var r;return'<button class="player-subs js-toggle-subs js-tooltip-trigger" data-tooltip="subtitles" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.subtitles:r,t))+'"></button>'},22:function(e,t,i,n,o){var r;return'<button class="player-sound js-toggle-sound" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.volume:r,t))+'"></button>'},24:function(e,t,i,n,o){var r;return'        <div class="player-volume js-player-volume js-tooltip-trigger" data-tooltip="volume" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.volume:r,t))+'"> <div class="player-volume-input-range js-player-volume-input-range"> </div> <ul class="player-volume-bars"> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> </ul> </div> '},26:function(e,t,i,n,o){var r;return'<button class="player-fullscreen js-player-fullscreen js-tooltip-trigger" data-tooltip="fullscreen" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.fullscreen:r,t))+'"></button>'},28:function(e,t,i,n,o){return'<span class="player-chapter js-player-chapter"></span>'},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,r){var s,a,l=null!=t?t:{},u=i.helperMissing,c="function",d=e.escapeExpression,p=e.lambda;return" "+(null!=(s=i.if.call(l,null!=t?t.hasSubtitles:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+' <button class="'+d((a=null!=(a=i.centralPlayButton||(null!=t?t.centralPlayButton:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"centralPlayButton",hash:{},data:r}):a))+'">Play</button> '+(null!=(s=i.if.call(l,null!=t?t.hasFullscreen:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+' <button class="'+d((a=null!=(a=i.repeat||(null!=t?t.repeat:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"repeat",hash:{},data:r}):a))+'">Repeat</button> <div class="'+d((a=null!=(a=i.controlsWrapper||(null!=t?t.controlsWrapper:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"controlsWrapper",hash:{},data:r}):a))+'"> <a class="player-diortv js-player-diortv" target="_blank" href="'+d((a=null!=(a=i.diorTV||(null!=t?t.diorTV:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"diorTV",hash:{},data:r}):a))+'">DiorTV</a> <div class="player-secondary-controls"> <div class="tooltips" '+(null!=(s=i.if.call(l,null!=t?t.tooltipsHidden:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?s:"")+"> "+(null!=(s=i.if.call(l,null!=t?t.share:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasSubtitles:t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))?s:"")+' <span class="js-tooltip" data-tooltip="volume">'+d(p(null!=(s=null!=t?t.locale:t)?s.volume:s,t))+'</span> <span class="js-tooltip" data-tooltip="fullscreen">'+d(p(null!=(s=null!=t?t.locale:t)?s.fullscreen:s,t))+"</span> </div> "+(null!=(s=i.if.call(l,null!=t?t.share:t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasSubtitles:t,{name:"if",hash:{},fn:e.program(20,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasMute:t,{name:"if",hash:{},fn:e.program(22,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasSoundBar:t,{name:"if",hash:{},fn:e.program(24,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasFullscreen:t,{name:"if",hash:{},fn:e.program(26,r,0),inverse:e.noop,data:r}))?s:"")+' </div> <button class="player-play js-player-play"> <span class="player-play-paused">Play</span> <span class="player-play-playing">Pause</span> </button> <div class="player-time"> <span class="js-player-current-time">'+d((a=null!=(a=i.currentTime||(null!=t?t.currentTime:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"currentTime",hash:{},data:r}):a))+"</span> / "+d((a=null!=(a=i.duration||(null!=t?t.duration:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"duration",hash:{},data:r}):a))+" </div> "+(null!=(s=i.if.call(l,null!=t?t.hasChapters:t,{name:"if",hash:{},fn:e.program(28,r,0),inverse:e.noop,data:r}))?s:"")+' <div class="player-seeker js-player-seeker"></div> <div class="player-preview"></div> </div>'},useData:!0})}Object.defineProperty(i,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.default=new n},{}],33:[function(e,t,i){"use strict";e("../../modules/es6.array.find"),t.exports=e("../../modules/_core").Array.find},{"../../modules/_core":41,"../../modules/es6.array.find":65}],34:[function(e,t,i){"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],35:[function(e,t,i){"use strict";var n=e("./_wks")("unscopables"),o=Array.prototype;void 0==o[n]&&e("./_hide")(o,n,{}),t.exports=function(e){o[n][e]=!0}},{"./_hide":50,"./_wks":64}],36:[function(e,t,i){"use strict";var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":54}],37:[function(e,t,i){"use strict";var n=e("./_ctx"),o=e("./_iobject"),r=e("./_to-object"),s=e("./_to-length"),a=e("./_array-species-create");t.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,d=6==e,p=5==e||d,h=t||a;return function(t,a,f){for(var v,y,m=r(t),g=o(m),b=n(a,f,3),w=s(g.length),_=0,$=i?h(t,w):l?h(t,0):void 0;w>_;_++)if((p||_ in g)&&(v=g[_],y=b(v,_,m),e))if(i)$[_]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:$j.push(v)}else if(c)return!1;return d?-1:u||c?c:$}}},{"./_array-species-create":39,"./_ctx":42,"./_iobject":52,"./_to-length":60,"./_to-object":61}],38:[function(e,t,i){"use strict";var n=e("./_is-object"),o=e("./_is-array"),r=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},{"./_is-array":53,"./_is-object":54,"./_wks":64}],39:[function(e,t,i){"use strict";var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":38}],40:[function(e,t,i){"use strict";var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],41:[function(e,t,i){"use strict";var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],42:[function(e,t,i){"use strict";var n=e("./_a-function");t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":34}],43:[function(e,t,i){"use strict";t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],44:[function(e,t,i){"use strict";t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":47}],45:[function(e,t,i){"use strict";var n=e("./_is-object"),o=e("./_global").document,r=n(o)&&n(o.createElement);t.exports=function(e){return r?o.createElement(e):{}}},{"./_global":48,"./_is-object":54}],46:[function(e,t,i){"use strict";var n=e("./_global"),o=e("./_core"),r=e("./_hide"),s=e("./_redefine"),a=e("./_ctx"),l="prototype",u=function e(t,i,u){var c,d,p,h,f=t&e.F,v=t&e.G,y=t&e.S,m=t&e.P,g=t&e.B,b=v?n:y?n[i]||(n[i]={}):(n[i]||{})[l],w=v?o:o[i]||(o[i]={}),_=w[l]||(w[l]={});v&&(u=i);for(c in u)d=!f&&b&&void 0!==b[c],p=(d?b:u)[c],h=g&&d?a(p,n):m&&"function"==typeof p?a(Function.call,p):p,b&&s(b,c,p,t&e.U),w[c]!=p&&r(w,c,h),m&&_[c]!=p&&(_[c]=p)};n.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":41,"./_ctx":42,"./_global":48,"./_hide":50,"./_redefine":57}],47:[function(e,t,i){"use strict";t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],48:[function(e,t,i){"use strict";var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],49:[function(e,t,i){"use strict";var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],50:[function(e,t,i){"use strict";var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},{"./_descriptors":44,"./_object-dp":55,"./_property-desc":56}],51:[function(e,t,i){"use strict";t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":44,"./_dom-create":45,"./_fails":47}],52:[function(e,t,i){"use strict";var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":40}],53:[function(e,t,i){"use strict";var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":40}],54:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){return"object"===("undefined"==typeof e?"undefined":n(e))?null!==e:"function"==typeof e}},{}],55:[function(e,t,i){"use strict";var n=e("./_an-object"),o=e("./_ie8-dom-define"),r=e("./_to-primitive"),s=Object.defineProperty;i.f=e("./_descriptors")?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),o)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},{"./_an-object":36,"./_descriptors":44,"./_ie8-dom-define":51,"./_to-primitive":62}],56:[function(e,t,i){"use strict";t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],57:[function(e,t,i){"use strict";var n=e("./_global"),o=e("./_hide"),r=e("./_has"),s=e("./_uid")("src"),a="toString",l=Function[a],u=(""+l).split(a);e("./_core").inspectSource=function(e){return l.call(e)},(t.exports=function(e,t,i,a){var l="function"==typeof i;l&&(r(i,"name")||o(i,"name",t)),e[t]!==i&&(l&&(r(i,s)||o(i,s,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:o(e,t,i):(delete e[t],o(e,t,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||l.call(this)})},{"./_core":41,"./_global":48,"./_has":49,"./_hide":50,"./_uid":63}],58:[function(e,t,i){"use strict";var n=e("./_global"),o="__core-js_shared__",r=n[o]||(n[o]={});t.exports=function(e){return r[e]||(r[e]={})}},{"./_global":48}],59:[function(e,t,i){"use strict";var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],60:[function(e,t,i){"use strict";var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":59}],61:[function(e,t,i){"use strict";var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":43}],62:[function(e,t,i){"use strict";var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!n(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":54}],63:[function(e,t,i){"use strict";var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],64:[function(e,t,i){"use strict";var n=e("./_shared")("wks"),o=e("./_uid"),r=e("./_global").Symbol,s="function"==typeof r,a=t.exports=function(e){return n[e]||(n[e]=s&&r[e]||(s?r:o)("Symbol."+e))};a.store=n},{"./_global":48,"./_shared":58,"./_uid":63}],65:[function(e,t,i){"use strict";var n=e("./_export"),o=e("./_array-methods")(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(r)},{"./_add-to-unscopables":35,"./_array-methods":37,"./_export":46}],66:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){var e=new a.HandlebarsEnvironment;return h.extend(e,a),e.SafeString=u.default,e.Exception=d.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}i.__esModule=!0;var s=e("./handlebars/base"),a=o(s),l=e("./handlebars/safe-string"),u=n(l),c=e("./handlebars/exception"),d=n(c),p=e("./handlebars/utils"),h=o(p),f=e("./handlebars/runtime"),v=o(f),y=e("./handlebars/no-conflict"),m=n(y),g=r();g.create=r,m.default(g),g.default=g,i.default=g,t.exports=i.default},{"./handlebars/base":67,"./handlebars/exception":70,"./handlebars/no-conflict":80,"./handlebars/runtime":81,"./handlebars/safe-string":82,"./handlebars/utils":83}],67:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=o;var r=e("./utils"),s=e("./exception"),a=n(s),l=e("./helpers"),u=e("./decorators"),c=e("./logger"),d=n(c),p="4.0.5";i.VERSION=p;var h=7;i.COMPILER_REVISION=h;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=f;var v="[object Object]";o.prototype={constructor:o,logger:d.default,log:d.default.log,registerHelper:function(e,t){if(r.toString.call(e)===v){if(t)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===v)r.extend(this.partials,e);else{if("undefined"==typeof t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===v){if(t)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var y=d.default.log;i.log=y,i.createFrame=r.createFrame,i.logger=d.default},{"./decorators":68,"./exception":70,"./helpers":71,"./logger":79,"./utils":83}],68:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){s.default(e)}i.__esModule=!0,i.registerDefaultDecorators=o;var r=e("./decorators/inline"),s=n(r)},{"./decorators/inline":69}],69:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerDecorator("inline",function(e,t,i,o){var r=e;return t.partials||(t.partials={},r=function o(r,s){var a=i.partials;i.partials=n.extend({},a,t.partials);var o=e(r,s);return i.partials=a,o}),t.partials[o.args[0]]=o.fn,r})},t.exports=i.default},{"../utils":83}],70:[function(e,t,i){"use strict";function n(e,t){var i=t&&t.loc,r=void 0,s=void 0;i&&(r=i.start.line,s=i.start.column,e+=" - "+r+":"+s);for(var a=Error.prototype.constructor.call(this,e),l=0;l<o.length;l++)this[o[l]]=a[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=r,this.column=s)}i.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i.default=n,t.exports=i.default},{}],71:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){s.default(e),l.default(e),c.default(e),p.default(e),f.default(e),y.default(e),g.default(e)}i.__esModule=!0,i.registerDefaultHelpers=o;var r=e("./helpers/block-helper-missing"),s=n(r),a=e("./helpers/each"),l=n(a),u=e("./helpers/helper-missing"),c=n(u),d=e("./helpers/if"),p=n(d),h=e("./helpers/log"),f=n(h),v=e("./helpers/lookup"),y=n(v),m=e("./helpers/with"),g=n(m)},{"./helpers/block-helper-missing":72,"./helpers/each":73,"./helpers/helper-missing":74,"./helpers/if":75,"./helpers/log":76,"./helpers/lookup":77,"./helpers/with":78}],72:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("blockHelperMissing",function(t,i){var o=i.inverse,r=i.fn;if(t===!0)return r(this);if(t===!1||null==t)return o(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(t,i)})},t.exports=i.default},{"../utils":83}],73:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0;var r=e("../utils"),s=e("../exception"),a=n(s);i.default=function(e){e.registerHelper("each",function(e,t){function i(t,i,o){c&&(c.key=t,c.index=i,c.first=0===i,c.last=!!o,d&&(c.contextPath=d+t)),u+=n(e[t],{data:c,blockParams:r.blockParams([e[t],t],[d+t,null])})}if(!t)throw new a.default("Must pass iterator to #each");var n=t.fn,s=t.inverse,l=0,u="",c=void 0,d=void 0;if(t.data&&t.ids&&(d=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"===("undefined"==typeof e?"undefined":o(e)))if(r.isArray(e))for(var p=e.length;l<p;l++)l in e&&i(l,l,l===e.length-1);else{var h=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==h&&i(h,l-1),h=f,l++);void 0!==h&&i(h,l-1,!0)}return 0===l&&(u=s(this)),u})},t.exports=i.default},{"../exception":70,"../utils":83}],74:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var o=e("../exception"),r=n(o);i.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=i.default},{"../exception":70}],75:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=i.default},{"../utils":83}],76:[function(e,t,i){"use strict";i.__esModule=!0,i.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),t[0]=o,e.log.apply(e,t)})},t.exports=i.default},{}],77:[function(e,t,i){"use strict";i.__esModule=!0,i.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=i.default},{}],78:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var i=t.fn;if(n.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&(o=n.createFrame(t.data),o.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:o,blockParams:n.blockParams([e],[o&&o.contextPath])})})},t.exports=i.default},{"../utils":83}],79:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("./utils"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[t].apply(console,n)}}};i.default=o,t.exports=i.default},{"./utils":83}],80:[function(e,t,i){(function(e){"use strict";i.__esModule=!0,i.default=function(t){var i="undefined"!=typeof e?e:window,n=i.Handlebars;t.noConflict=function(){return i.Handlebars===t&&(i.Handlebars=n),t}},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){var t=e&&e[0]||1,i=g.COMPILER_REVISION;if(t!==i){if(t<i){var n=g.REVISION_CHANGES[i],o=g.REVISION_CHANGES[t];throw new m.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new m.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){function i(i,n,o){o.hash&&(n=v.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,o);var r=t.VM.invokePartial.call(this,i,n,o);if(null==r&&t.compile&&(o.partials[o.name]=t.compile(i,e.compilerOptions,t),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=o.indent+s[a];r=s.join("\n")}return r}throw new m.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(t){function i(t){return""+e.main(o,t,o.helpers,o.partials,s,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;
n._setup(r),!r.partial&&e.useData&&(s=d(t,s));var a=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(a=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(i=p(e.main,i,o,r.depths||[],s,l))(t,r)}if(!t)throw new m.default("No environment passed to template");if(!e||!e.main)throw new m.default("Unknown template object: "+("undefined"==typeof e?"undefined":h(e)));e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o={strict:function(e,t){if(!(t in e))throw new m.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,n=0;n<i;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:v.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,n,o){var r=this.programs[e],s=this.fn(e);return t||o||n||i?r=a(this,e,s,t,i,n,o):r||(r=this.programs[e]=a(this,e,s)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=v.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=o.merge(i.decorators,t.decorators)))},n._child=function(t,i,n,r){if(e.useBlockParams&&!n)throw new m.default("must pass block params");if(e.useDepths&&!r)throw new m.default("must pass parent depths");return a(o,t,e[t],i,0,n,r)},n}function a(e,t,i,n,o,r,s){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&t!==s[0]&&(a=[t].concat(s)),i(e,t,e.helpers,e.partials,o.data||n,r&&[o.blockParams].concat(r),a)}return a=p(i,a,e,s,n,r),a.program=t,a.depth=s?s.length:0,a.blockParams=o||0,a}function l(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function u(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==c&&(i.data=g.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=v.extend({},i.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new m.default("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)}function c(){return""}function d(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function p(e,t,i,n,o,r){if(e.decorator){var s={};t=e.decorator(t,s,i,n&&n[0],o,r,n),v.extend(t,s)}return t}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0,i.checkRevision=r,i.template=s,i.wrapProgram=a,i.resolvePartial=l,i.invokePartial=u,i.noop=c;var f=e("./utils"),v=o(f),y=e("./exception"),m=n(y),g=e("./base")},{"./base":67,"./exception":70,"./utils":83}],82:[function(e,t,i){"use strict";function n(e){this.string=e}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i.default=n,t.exports=i.default},{}],83:[function(e,t,i){"use strict";function n(e){return p[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function r(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return f.test(e)?e.replace(h,n):e}function a(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function l(e){var t=o({},e);return t._parent=e,t}function u(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0,i.extend=o,i.indexOf=r,i.escapeExpression=s,i.isEmpty=a,i.createFrame=l,i.blockParams=u,i.appendContextPath=c;var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,f=/[&<>"'`=]/,v=Object.prototype.toString;i.toString=v;
// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
/* eslint-disable func-style */
var y=function(e){return"function"==typeof e};y(/x/)&&(i.isFunction=y=function(e){return"function"==typeof e&&"[object Function]"===v.call(e)}),i.isFunction=y;var m=Array.isArray||function(e){return!(!e||"object"!==("undefined"==typeof e?"undefined":d(e)))&&"[object Array]"===v.call(e)};i.isArray=m},{}],84:[function(e,t,i){"use strict";t.exports=e("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":66}]},{},[12]);